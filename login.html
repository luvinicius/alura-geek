<!DOCTYPE html>
<html lang="pt-br">

<head>
    <title>Login :: Alura Geek</title>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="assets/css/pages/login.css" rel="stylesheet">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
</head>

<body>
    <header class="container cabecalho">

        <h1 class="cabecalho__titulo">
            <a href="./index.html">
                <img src="assets/img/Logo.svg" alt="Alura Geek" />
            </a>
        </h1>

        <input type="search" class="entrada--arendondada lupa-a-direita cabecalho__input-pesquisa"
            placeholder="O que deseja encontrar?" />

        <img src="assets/img/Lupa.svg" class="cabecalho__botao-pesquisa" alt="Pesquisar" />

    </header>

    <main class="container login">
        <form id="formLogin" action="" class="formulario-login">
            <h2 class="formulario-login__titulo">Iniciar Sessão</h2>
            <input type="email" name="email" id="email" class="entrada" placeholder="Escreva seu email" required>
            <input type="password" name="senha" id="senha" class="entrada" placeholder="Escreva sua senha" required>
            <input type="submit" value="Entrar" class="botao botao--primario">
        </form>
    </main>
    <footer class="rodape">
        <div class="rodape__infomacoes">

            <h2 class="cabecalho__rodape">
                <a href="./index.html">
                    <img src="assets/img/Logo.svg" alt="Alura Geek" />
                </a>
            </h2>

            <nav class="rodape__menu">
                <ul class="rodape__menu__lista">
                    <li class="rodape__menu__item">
                        <a href="#" class="rodape__menu__link">Quem somos nós</a>
                    </li>
                    <li class="rodape__menu__item">
                        <a href="#" class="rodape__menu__link">Política de privacidade</a>
                    </li>
                    <li class="rodape__menu__item">
                        <a href="#" class="rodape__menu__link">Programa fidelidade</a>
                    </li>
                    <li class="rodape__menu__item">
                        <a href="#" class="rodape__menu__link">Nossas lojas</a>
                    </li>
                    <li class="rodape__menu__item">
                        <a href="#" class="rodape__menu__link">Quero ser franqueado</a>
                    </li>
                    <li class="rodape__menu__item">
                        <a href="#" class="rodape__menu__link">Anuncie aqui</a>
                    </li>
                </ul>
            </nav>

        </div>
        <ul class="messages"></ul>
        <form class="formulario-contato" action="" method="post">
            <h2 class="formulario-contato__titulo">Fale conosco</h2>
            <div class="campo">
                <input type="text" id="nome" name="nome" class="entrada" placeholder="Nome" required maxlength="256" />
                <label for="nome" class="campo__label">Nome</label>
            </div>

            <textarea id="mensagem" name="mensagem" placeholder="Escreva sua mensagem" aria-label="Escreva sua mensagem"
                class="entrada" required maxlength="528"></textarea>
            <input type="submit" value="Enviar Mensagem" class="botao botao--primario" />
        </form>
        <div class="desenvolvedor">
            <p>Desenvolvido por Lucas Vinicius Pimenta</p>
            <p>2023</p>
        </div>
    </footer>
    <script type="module">
        import LoginService from './assets/js/services/LoginService.js';
        import MessageUtils from './assets/js/utils/MessageUtils.js';
        const loginService = new LoginService();
        const messageUtils = new MessageUtils();

        var autenticar = function (submitEvent) {
            const email = submitEvent.path[0][0].value;
            const senha = submitEvent.path[0][1].value;

            if (loginService.autenticar(email, senha)) {
                messageUtils.addSuccess("Autenticado com sucesso");
            } else {
                messageUtils.addError("Falha ao autenticar!");
            }
            return false;
        }

        const formLogin = document.getElementById("formLogin");
        formLogin.onsubmit = autenticar;
    </script>

</body>

</html>